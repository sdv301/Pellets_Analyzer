<aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3" id="sidenav-main">
    <div class="sidenav-header">
        <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
        <a class="navbar-brand m-0" href="{{ url_for('index') }}">
            <img src="{{ url_for('static', filename='assets/img/logo-ct-dark.png') }}" class="navbar-brand-img h-100" alt="main_logo">
            <span class="ms-1 font-weight-bold">Pellets Analyzer</span>
        </a>
    </div>
    <hr class="horizontal dark mt-0">
    <div class="collapse navbar-collapse w-auto" id="sidenav-collapse-main">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link {% if segment == 'Главная' %}active nav-active-gradient text-white{% endif %}" href="{{ url_for('index') }}">
                    <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                        <i class="fas fa-home {% if segment == 'Главная' %}text-white{% else %}text-dark{% endif %} text-sm"></i>
                    </div>
                    <span class="nav-link-text ms-1">Главная</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if segment == 'Таблицы' %}active nav-active-gradient text-white{% endif %}" href="{{ url_for('tables') }}">
                    <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                        <i class="fas fa-table {% if segment == 'Таблицы' %}text-white{% else %}text-dark{% endif %} text-sm"></i>
                    </div>
                    <span class="nav-link-text ms-1">Таблицы</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if segment == 'Создание графика' %}active nav-active-gradient text-white{% endif %}" href="{{ url_for('create_graph') }}">
                    <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                        <i class="fas fa-chart-line {% if segment == 'Создание графика' %}text-white{% else %}text-dark{% endif %} text-sm"></i>
                    </div>
                    <span class="nav-link-text ms-1">Создать график</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if segment == 'ИИ-анализ' %}active nav-active-gradient text-white{% endif %}" href="{{ url_for('ai_analysis') }}">
                    <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                        <i class="fas fa-robot {% if segment == 'ИИ-анализ' %}text-white{% else %}text-dark{% endif %} text-sm"></i>
                    </div>
                    <span class="nav-link-text ms-1">ИИ-анализ</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if segment == 'ML Анализ' %}active nav-active-gradient text-white{% endif %}" href="{{ url_for('ml_dashboard') }}">
                    <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                        <i class="fas fa-brain {% if segment == 'ML Анализ' %}text-white{% else %}text-dark{% endif %} text-sm"></i>
                    </div>
                    <span class="nav-link-text ms-1">ML Анализ</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if segment == 'Сравнительная таблица' %}active nav-active-gradient text-white{% endif %}" href="{{ url_for('compare') }}">
                    <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                        <i class="fas fa-balance-scale {% if segment == 'Сравнительная таблица' %}text-white{% else %}text-dark{% endif %} text-sm"></i>
                    </div>
                    <span class="nav-link-text ms-1">Сравнение составов</span>
                </a>
            </li>
        </ul>
    </div>

    <style>
    .nav-active-gradient {
        background: linear-gradient(135deg, #667eea 0%, #703030 100%) !important;
        box-shadow: 0 4px 20px 0 rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(102, 126, 234, 0.4) !important;
    }
    
    .nav-link.active {
        border-radius: 8px;
        margin: 0 8px;
    }
    
    .nav-link.active .icon {
        background: rgba(255, 255, 255, 0.2) !important;
    }
    </style>
</aside>